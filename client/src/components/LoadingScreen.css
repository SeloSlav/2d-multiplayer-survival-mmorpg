/* KeyFrame Animations */
@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
  
  @keyframes typing {
    from { width: 0; }
    to { width: 100%; }
  }
  
  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
  
  @keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-8px); }
    100% { transform: translateY(0px); }
  }
  
  @keyframes glow {
    0% { filter: drop-shadow(0 0 5px rgba(230, 164, 76, 0.3)); }
    50% { filter: drop-shadow(0 0 15px rgba(77, 219, 220, 0.7)); }
    100% { filter: drop-shadow(0 0 5px rgba(230, 164, 76, 0.3)); }
  }
  
  @keyframes enhancedGlow {
    0% { filter: drop-shadow(0 0 8px rgba(230, 164, 76, 0.5)); }
    50% { filter: drop-shadow(0 0 20px rgba(77, 219, 220, 0.9)); }
    100% { filter: drop-shadow(0 0 8px rgba(230, 164, 76, 0.5)); }
  }
  
  @keyframes speaking-glow {
    0% { filter: drop-shadow(0 0 10px rgba(230, 164, 76, 0.7)); }
    50% { filter: drop-shadow(0 0 25px rgba(77, 219, 220, 0.9)); }
    100% { filter: drop-shadow(0 0 10px rgba(230, 164, 76, 0.7)); }
  }
  
  @keyframes scanline {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }
  
  @keyframes pulse {
    0% { outline-width: 0px; outline-offset: 0px; }
    50% { outline-width: 3px; outline-offset: 5px; }
    100% { outline-width: 0px; outline-offset: 0px; }
  }
  
  @keyframes subtle-pulse {
    0% { transform: scale(1) translateY(0px); }
    50% { transform: scale(1.03) translateY(-3px); }
    100% { transform: scale(1) translateY(0px); }
  }
  
  @keyframes hint-glow {
    0%, 100% { box-shadow: 0 0 0 0 rgba(230, 164, 76, 0); }
    50% { box-shadow: 0 0 15px 5px rgba(230, 164, 76, 0.3); }
  }
  
  @keyframes loading-pulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
  }
  
  /* Terminal colors - using SOVA UI Theme Variables */
  :root {
    --terminal-bg: var(--sova-bg);
    --terminal-text: var(--sova-text);
    --terminal-green: var(--sova-success);
    --terminal-accent: var(--sova-highlight);
    --terminal-error: var(--sova-error);
    --terminal-warning: var(--sova-warning);
    --terminal-highlight: var(--sova-highlight);
    --terminal-border: var(--sova-border);
    --terminal-cursor: var(--sova-highlight);
    --grid-color: rgba(77, 219, 220, 0.12);
    --terminal-command: var(--sova-success); /* Softer green for commands */
    --terminal-message: var(--sova-text-light); /* White for messages */
  }
  
  /* Terminal Fonts */
  @font-face {
    font-family: 'Share Tech Mono';
    src: url('/fonts/ShareTechMono-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
  }
  
  /* Loading Screen Styles */
  .loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--sova-bg);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    font-family: 'Courier New', monospace;
    background-image: 
      linear-gradient(90deg, var(--grid-color) 1px, transparent 1px),
      linear-gradient(var(--grid-color) 1px, transparent 1px);
    background-size: 24px 24px; /* Using 8pt grid (divisible by 8) */
  }
  
  .loading-content {
    width: 80%;
    max-width: 800px;
    background-color: var(--sova-panel-bg);
    padding: 32px; /* Using 8pt grid (32px = 4 * 8px) */
    border-radius: 8px;
    border: 1px solid var(--sova-border);
    box-shadow: 0 0 30px rgba(77, 219, 220, 0.35);
    position: relative;
    overflow: hidden;
    overflow-y: auto;
    max-height: calc(100vh - 80px);
    padding-right: 12px; /* Add space for scrollbar */
    scrollbar-color: var(--sova-border-translucent) rgba(10, 14, 26, 0.5);  /* For Firefox */
    scrollbar-width: thin;  /* For Firefox */
  }
  
  .loading-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: var(--sova-border-translucent);
    animation: scanline 3s linear infinite;
    opacity: 0.3;
  }
  
  .sova-image {
    text-align: center;
    margin-bottom: 24px; /* Using 8pt grid (24px = 3 * 8px) */
    position: relative;
  }
  
  .sova-image::before {
    content: '';
    position: absolute;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: -1;
    animation: hint-glow 3s ease-in-out infinite;
    pointer-events: none;
  }
  
  .sova-image::after {
    content: 'Click SOVA to hear her voice';
    position: absolute;
    bottom: -20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px; /* Using defined font size */
    color: var(--sova-highlight);
    opacity: 0.8;
    transition: opacity 0.3s ease;
    text-shadow: 0 0 5px rgba(230, 164, 76, 0.7);
  }
  
  .sova-image:hover::after {
    opacity: 1;
    text-shadow: 0 0 8px rgba(230, 164, 76, 1);
  }
  
  .sova-image img {
    max-width: 150px;
    animation: subtle-pulse 3s ease-in-out infinite, glow 4s ease-in-out infinite;
    filter: brightness(1.2);
    opacity: 0.9;
    cursor: pointer;
    transition: transform 0.3s ease, filter 0.3s ease, opacity 0.3s ease;
    border-radius: 50%;
  }
  
  .sova-image img:hover {
    transform: scale(1.1) translateY(-5px);
    filter: brightness(1.4) drop-shadow(0 0 15px rgba(77, 219, 220, 0.8));
    opacity: 1;
    animation: float 3s ease-in-out infinite, enhancedGlow 2s ease-in-out infinite, pulse 2s ease-in-out infinite;
    outline: 0px solid var(--sova-highlight);
    outline-offset: 0px;
  }
  
  .sova-image.speaking img {
    animation: float 3s ease-in-out infinite, speaking-glow 1.5s ease-in-out infinite;
    filter: brightness(1.4);
    opacity: 1;
    cursor: not-allowed;
  }
  
  .sova-image.speaking::after {
    content: '';
    opacity: 1 !important;
    color: var(--sova-text);
    animation: none;
  }
  
  .sova-image.loading img {
    cursor: pointer;
    animation: subtle-pulse 3s ease-in-out infinite, glow 4s ease-in-out infinite;
  }
  
  .sova-image.loading::after {
    content: '';
    opacity: 0.8;
    animation: loading-pulse 1.5s infinite;
  }
  
  .sova-image.ready::after {
    content: '';
  }
  
  /* Styling for SOVA when terrain error is active */
  .sova-image.terrain-error-active img {
    cursor: not-allowed;
    filter: drop-shadow(0 0 15px rgba(221, 76, 105, 0.7)); /* Softer red glow */
    animation: float 3s ease-in-out infinite; /* Keep floating, remove conflicting glow animations */
    /* Override hover effects */
    transform: none;
    opacity: 0.7; /* Dim slightly */
  }
  
  .sova-image.terrain-error-active img:hover {
    transform: none; /* Prevent scaling on hover */
    filter: drop-shadow(0 0 15px rgba(221, 76, 105, 0.7)); /* Keep static red glow */
    opacity: 0.7;
    animation: float 3s ease-in-out infinite; /* Ensure only float animation persists on hover */
  }
  
  .sova-image.terrain-error-active::before {
    display: none; /* Hide the hint glow */
  }
  
  .terminal-header {
    color: var(--sova-highlight);
    margin-bottom: 16px; /* Using 8pt grid (16px = 2 * 8px) */
    font-size: 20px; /* Using defined font size */
    text-align: left;
    border-bottom: 1px solid var(--sova-border);
    padding-bottom: 8px; /* Using 8pt grid (8px = 1 * 8px) */
    text-shadow: 0 0 5px rgba(230, 164, 76, 0.7);
  }
  
  .terminal-content {
    color: var(--sova-text);
    text-align: left;
    height: 300px;
    overflow-y: auto;
    margin-bottom: 16px; /* Using 8pt grid (16px = 2 * 8px) */
    padding: 16px; /* Using 8pt grid (16px = 2 * 8px) */
    background: var(--sova-panel-inner);
    border-radius: 4px;
    border-left: 2px solid var(--sova-highlight);
  }
  
  /* Scrollbar styling - matching SharedPanelStyles.css */
  .terminal-content::-webkit-scrollbar {
    width: 8px; /* 8pt grid */
  }
  
  .terminal-content::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
  
  .terminal-content::-webkit-scrollbar-thumb {
    background-color: var(--sova-border-translucent);
    border-radius: 4px;
    border: 1px solid var(--sova-border-translucent-stronger);
  }
  
  .terminal-content::-webkit-scrollbar-thumb:hover {
    background-color: var(--sova-border-translucent-stronger);
    box-shadow: 0 0 4px var(--sova-glow);
  }
  
  .terminal-line {
    margin: 8px 0; /* Using 8pt grid (8px = 1 * 8px) */
    display: flex;
    align-items: center;
    min-height: 1.5em;
  }
  
  .terminal-prompt {
    color: var(--sova-highlight);
    padding-right: 8px; /* Using 8pt grid (8px = 1 * 8px) */
    text-shadow: 0 0 5px rgba(230, 164, 76, 0.7);
  }
  
  .terminal-command {
    color: var(--sova-success); /* Softer green for commands */
    margin-left: 4px; /* Using 8pt grid (4px = 0.5 * 8px) */
  }
  
  .terminal-message {
    color: var(--sova-text-light); /* White for standard messages */
  }
  
  .terminal-cursor {
    display: inline-block;
    width: 8px; /* Using 8pt grid (8px = 1 * 8px) */
    height: 16px; /* Using 8pt grid (16px = 2 * 8px) */
    background-color: var(--sova-highlight);
    margin-left: 4px; /* Using 8pt grid (4px = 0.5 * 8px) */
    animation: blink 1s infinite;
    vertical-align: middle;
    box-shadow: 0 0 8px rgba(230, 164, 76, 0.8);
  }
  
  .terminal-cursor-standalone {
    display: inline-block;
    background-color: var(--sova-success);
    width: 8px; /* Using 8pt grid (8px = 1 * 8px) */
    height: 16px; /* Using 8pt grid (16px = 2 * 8px) */
    animation: blink 1s step-end infinite;
    margin-left: 4px; /* Using 8pt grid (4px = 0.5 * 8px) */
    vertical-align: middle;
  }
  
  /* Animation classes */
  .fade-in {
    opacity: 0;
    animation: fadeIn 0.5s forwards;
  }
  
  .typing-animation {
    display: inline-block;
    white-space: nowrap;
    overflow: hidden;
    width: 0;
    will-change: width;
    animation: typing 1.5s cubic-bezier(0.645, 0.045, 0.355, 1) forwards;
  }
  
  /* Style for error messages within the terminal */
  .terminal-error {
    color: var(--sova-error); /* Softer red for errors */
    font-weight: bold; /* Make errors stand out */
  }
  
  /* Scrollbar styling for loading screen content - matches SharedPanelStyles.css */
  .loading-content::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .loading-content::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }
  
  .loading-content::-webkit-scrollbar-thumb {
    background-color: var(--sova-border-translucent);
    border-radius: 4px;
    border: 1px solid var(--sova-border-translucent-stronger);
  }
  
  .loading-content::-webkit-scrollbar-thumb:hover {
    background-color: var(--sova-border-translucent-stronger);
    box-shadow: 0 0 8px var(--sova-glow);
  }
  
  .loading-content::-webkit-scrollbar-corner {
    background: transparent;
  } 